<!DOCTYPE html>
<!--
 """
 webPyAPI
 Script:  index.html

 Objective
 ----------
 HTML template for visualization of API data.

 Called by
 ----------
 urls.py

 Last review
 ----------
 02.02.2022
 """
!-->

<html>
{% load i18n %}
<head>
    <meta charset="utf-8">
    <title>webPyAPI</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
     <style>
          table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 80%;
          }

          td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
          }
          table.center {
            margin-left: auto;
            margin-right: auto;
          }
          tr:nth-child(even) {
            background-color: #dddddd;
          }

          .button {
            background-color: #4CAF50; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin:auto;
            cursor: pointer;
          }
          select {
               width: 250px;
               margin: 10px;
         }
               select:focus {
                    min-width: 150px;
                    width: auto;
               }
     </style>
</head>

<div class="jumbotron">
  <h1 style="text-align: left; padding-left: 20px;">{% trans "webPyAPI" %}</h1>
  <p style="text-align: left; padding-left: 20px;">{% trans " Template project for visualization of World Bank API data" %}</p>
</div>


<h3 style="text-align: left; padding-left: 20px;">Overview of World Bank API database</h3>
<br>
<div class="col-sm-12">
<table style=margin-left:auto;margin-right:auto;">
 <tr>
    <td><strong>{% trans "Indicator" %}</strong></td>
    <td>{{variable}}</td>
    <td><strong>{% trans "Data type" %}</strong></td>
    <td>{{variable}}</td>
 </tr>
 <tr>
    <td><strong>{% trans "Number of elements" %}</strong></td>
    <td>{{variable}}</td>
    <td><strong>{% trans "Number of keys" %}</strong></td>
    <td>{{variable}}</td>
 </tr>
 <tr>
    <td><strong>{% trans "Number of countries" %}</strong></td>
    <td>{{numb_countries}}</td>
    <td><strong>{% trans "Number of years" %}</strong></td>
    <td>{{prod_costST}}</td>
 </tr>
</table>
<br><br>
</div>
<hr>
<br><br>

<h3 style="text-align: left; padding-left: 20px;">Data visualization</h3>

<div class="col-sm-12">
Select an indicator:<br>
     <select id="cars">
          <option value='pop_size'>Total population</option>
          <option value='pop_growth'>Population growth</option>
          <option value='gdp'>Gross domestic product</option>
          <option value='life_exp'>Life expectancy</option>
          <option value='literacy'>Literacy rate</option>
     </select>
</div>

<br>

<div class="col-sm-12">
Select a country:<br>
     <select id="cars">
          {% for country in country_ids %}
               <option value={{country.1}}>{{country.1}}</option>
          {% endfor %}
     </select>
</div>

<br><br>
<br><br>

<!-- Dummy charts -->
<body>
     <div id="curve_chart" style="width: 900px; height: 500px"></div>
</body>

<body>
     <div id="donutchart" style="width: 900px; height: 500px;"></div>
</body>



<hr>







<!-- Scripts -->
<!-- Dummy chart 1 -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
 google.charts.load('current', {'packages':['corechart']});
 google.charts.setOnLoadCallback(drawChart);
 function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Year', 'Sales', 'Expenses'],
      ['2004',  1000,      400],
      ['2005',  1170,      460],
      ['2006',  660,       1120],
      ['2007',  1030,      540]
    ]);
    var options = {
      title: 'Dummy line chart',
      curveType: 'function',
      legend: { position: 'bottom' }
    };
    var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
    chart.draw(data, options);
 }
</script>

<!-- Dummy chart 2 -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
 google.charts.load("current", {packages:["corechart"]});
 google.charts.setOnLoadCallback(drawChart);
 function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Task', 'Hours per Day'],
      ['Work',     11],
      ['Eat',      2],
      ['Commute',  2],
      ['Watch TV', 2],
      ['Sleep',    7]
    ]);

    var options = {
      title: 'My Daily Activities',
      pieHole: 0.4,
    };

    var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
    chart.draw(data, options);
 }
</script>


</html>
